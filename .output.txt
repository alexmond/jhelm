[INFO] Scanning for projects...
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Build Order:
[INFO]
[INFO] jhelm                                                              [pom]
[INFO] jhelm-core                                                         [jar]
[INFO] jhelm-kube                                                         [jar]
[INFO] jhelm-app                                                          [jar]
[INFO]
[INFO] -------------------------< org.alexmond:jhelm >-------------------------
[INFO] Building jhelm 0.0.1-SNAPSHOT                                      [1/4]
[INFO]   from pom.xml
[INFO] --------------------------------[ pom ]---------------------------------
[INFO]
[INFO] --- clean:3.5.0:clean (default-clean) @ jhelm ---
[INFO]
[INFO] ----------------------< org.alexmond:jhelm-core >-----------------------
[INFO] Building jhelm-core 0.0.1-SNAPSHOT                                 [2/4]
[INFO]   from jhelm-core/pom.xml
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- clean:3.5.0:clean (default-clean) @ jhelm-core ---
[INFO] Deleting /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/target
[INFO]
[INFO] --- resources:3.3.1:resources (default-resources) @ jhelm-core ---
[INFO] skip non existing resourceDirectory /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/main/resources
[INFO] skip non existing resourceDirectory /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/main/resources
[INFO]
[INFO] --- compiler:3.14.1:compile (default-compile) @ jhelm-core ---
[INFO] Recompiling the module because of changed source code.
[INFO] Compiling 14 source files with javac [debug parameters release 21] to target/classes
[INFO] /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/main/java/org/alexmond/jhelm/core/RepoManager.java: /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/main/java/org/alexmond/jhelm/core/RepoManager.java uses or overrides a deprecated API.
[INFO] /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/main/java/org/alexmond/jhelm/core/RepoManager.java: Recompile with -Xlint:deprecation for details.
[INFO] /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/main/java/org/alexmond/jhelm/core/ChartLoader.java: Some input files use unchecked or unsafe operations.
[INFO] /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/main/java/org/alexmond/jhelm/core/ChartLoader.java: Recompile with -Xlint:unchecked for details.
[INFO]
[INFO] --- resources:3.3.1:testResources (default-testResources) @ jhelm-core ---
[INFO] Copying 1 resource from src/test/resources to target/test-classes
[INFO]
[INFO] --- compiler:3.14.1:testCompile (default-testCompile) @ jhelm-core ---
[INFO] Recompiling the module because of changed dependency.
[INFO] Compiling 2 source files with javac [debug parameters release 21] to target/test-classes
[INFO] /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/test/java/org/alexmond/jhelm/core/KpsComparisonTest.java: /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/test/java/org/alexmond/jhelm/core/KpsComparisonTest.java uses or overrides a deprecated API.
[INFO] /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/src/test/java/org/alexmond/jhelm/core/KpsComparisonTest.java: Recompile with -Xlint:deprecation for details.
[INFO]
[INFO] --- surefire:3.5.4:test (default-test) @ jhelm-core ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO]
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running org.alexmond.jhelm.core.RepoManagerTest
[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.749 s -- in org.alexmond.jhelm.core.RepoManagerTest
[INFO] Running org.alexmond.jhelm.core.KpsComparisonTest
01:32:01.146 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Chart prometheus-community/prometheus not found locally, fetching from Artifact Hub...
01:32:01.393 [main] INFO org.alexmond.jhelm.core.RepoManager -- Pulling chart from https://github.com/prometheus-community/helm-charts/releases/download/prometheus-28.9.0/prometheus-28.9.0.tgz to /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/target/test-charts
01:32:02.227 [main] INFO org.alexmond.jhelm.core.RepoManager -- Chart pulled successfully to /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/target/test-charts/prometheus.tgz
01:32:02.227 [main] INFO org.alexmond.jhelm.core.RepoManager -- Untarring /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/target/test-charts/prometheus.tgz to /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/target/test-charts
01:32:02.306 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.name (length: 78)
01:32:02.307 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.port (length: 6)
01:32:02.307 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.chart (length: 97)
01:32:02.307 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.common.matchLabels (length: 107)
01:32:02.308 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.common.metaLabels (length: 225)
01:32:02.308 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.server.labels (length: 96)
01:32:02.308 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.server.matchLabels (length: 104)
01:32:02.308 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.fullname (length: 367)
01:32:02.309 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.clusterRoleName (length: 194)
01:32:02.309 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.alertmanager.fullname (length: 159)
01:32:02.309 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.server.fullname (length: 439)
01:32:02.310 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.kubeVersion (length: 127)
01:32:02.310 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.networkPolicy.apiVersion (length: 38)
01:32:02.310 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.serviceAccountName.server (length: 234)
01:32:02.310 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.namespace (length: 61)
01:32:02.310 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.namespaces (length: 481)
01:32:02.311 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.server.remoteWrite (length: 221)
01:32:02.311 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus.server.remoteRead (length: 213)
01:32:02.311 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.name (length: 78)
01:32:02.311 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.fullname (length: 367)
01:32:02.312 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.serviceAccountName (length: 211)
01:32:02.312 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.namespace (length: 138)
01:32:02.312 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.chart (length: 97)
01:32:02.312 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.labels (length: 526)
01:32:02.312 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.selectorLabels (length: 211)
01:32:02.313 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: servicemonitor.scrapeLimits (length: 322)
01:32:02.313 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: scrapeconfig.scrapeLimits (length: 322)
01:32:02.313 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.imagePullSecrets (length: 203)
01:32:02.313 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.image (length: 766)
01:32:02.314 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kubeRBACProxy.image (length: 948)
01:32:02.314 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: kube-state-metrics.crsConfigMapName (length: 202)
01:32:02.314 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: alertmanager.name (length: 77)
01:32:02.314 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: alertmanager.fullname (length: 357)
01:32:02.315 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: alertmanager.chart (length: 96)
01:32:02.315 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: alertmanager.labels (length: 236)
01:32:02.315 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: alertmanager.selectorLabels (length: 109)
01:32:02.315 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: alertmanager.serviceAccountName (length: 196)
01:32:02.315 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: alertmanager.ingress.apiVersion (length: 38)
01:32:02.315 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: alertmanager.namespace (length: 124)
01:32:02.315 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.name (length: 77)
01:32:02.315 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.fullname (length: 357)
01:32:02.316 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.chart (length: 96)
01:32:02.316 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.labels (length: 510)
01:32:02.316 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.selectorLabels (length: 121)
01:32:02.316 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.serviceAccountName (length: 208)
01:32:02.316 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.image (length: 868)
01:32:02.316 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.namespace (length: 119)
01:32:02.316 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.monitor-namespace (length: 233)
01:32:02.317 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: servicemonitor.scrapeLimits (length: 322)
01:32:02.317 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.imagePullSecrets (length: 203)
01:32:02.317 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.podmonitor-namespace (length: 239)
01:32:02.317 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: podmonitor.scrapeLimits (length: 322)
01:32:02.317 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.sidecarVolumeMounts (length: 425)
01:32:02.317 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.defaultAffinity (length: 298)
01:32:02.317 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-node-exporter.mergedAffinities (length: 547)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.name (length: 77)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.namespace (length: 138)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.fullname (length: 357)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.chart (length: 95)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.serviceAccountName (length: 206)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.defaultLabels (length: 326)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.selectorLabels (length: 119)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.webConfiguration (length: 142)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.Authorization (length: 193)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.basicAuth (length: 243)
01:32:02.318 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.image (length: 336)
01:32:02.319 [main] INFO org.alexmond.jhelm.core.Engine -- Defining template: prometheus-pushgateway.podSpec (length: 5749)
01:32:02.319 [main] INFO org.alexmond.jhelm.core.Engine -- Collected 66 named templates
01:32:02.348 [main] ERROR org.alexmond.jhelm.core.Engine -- Failed to render template httproute.yaml: httproute.yaml:12:29: found: '"prometheus.server.labels"', expected: 'id'
  labels: {{include nindent ("prometheus.server.labels" this) 4}}
                             ^
01:32:02.348 [main] ERROR org.alexmond.jhelm.core.KpsComparisonTest -- prometheus-community/prometheus - Rendering failed
java.lang.RuntimeException: Failed to render template httproute.yaml
        at org.alexmond.jhelm.core.Engine.renderWithSubcharts(Engine.java:408)
        at org.alexmond.jhelm.core.Engine.render(Engine.java:301)
        at org.alexmond.jhelm.core.InstallAction.install(InstallAction.java:44)
        at org.alexmond.jhelm.core.KpsComparisonTest.compareChart(KpsComparisonTest.java:172)
        at org.alexmond.jhelm.core.KpsComparisonTest.compareAllTopCharts(KpsComparisonTest.java:117)
        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
        at java.base/java.lang.reflect.Method.invoke(Method.java:580)
        at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:701)
        at org.junit.platform.commons.support.ReflectionSupport.invokeMethod(ReflectionSupport.java:502)
        at org.junit.jupiter.engine.support.MethodReflectionUtils.invoke(MethodReflectionUtils.java:45)
        at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:61)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:124)
        at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:163)
        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:148)
        at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestTemplateMethod(TimeoutExtension.java:94)
        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:123)
        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:105)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:99)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:66)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:47)
        at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:39)
        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:104)
        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:98)
        at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invokeVoid(InterceptingExecutableInvoker.java:71)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$0(TestMethodTestDescriptor.java:219)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:215)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:157)
        at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:70)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:268)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask$DefaultDynamicTestExecutor.execute(NodeTestTask.java:246)
        at org.junit.jupiter.engine.descriptor.TemplateExecutor.execute(TemplateExecutor.java:96)
        at org.junit.jupiter.engine.descriptor.TemplateExecutor.lambda$executeForProvider$1(TemplateExecutor.java:59)
        at java.base/java.util.Optional.ifPresent(Optional.java:178)
        at org.junit.jupiter.engine.descriptor.TemplateExecutor.lambda$executeForProvider$0(TemplateExecutor.java:59)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at org.junit.jupiter.params.shadow.de.siegmar.fastcsv.reader.CsvReader$CsvSpliterator.tryAdvance(CsvReader.java:303)
        at org.junit.jupiter.params.provider.CsvFileArgumentsProvider$CsvExceptionHandlingSpliterator.tryAdvance(CsvFileArgumentsProvider.java:110)
        at java.base/java.util.Spliterator.forEachRemaining(Spliterator.java:332)
        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:722)
        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)
        at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
        at java.base/java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:276)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
        at java.base/java.util.AbstractList$RandomAccessSpliterator.forEachRemaining(AbstractList.java:722)
        at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
        at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
        at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
        at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
        at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
        at org.junit.jupiter.engine.descriptor.TemplateExecutor.executeForProvider(TemplateExecutor.java:57)
        at org.junit.jupiter.engine.descriptor.TemplateExecutor.execute(TemplateExecutor.java:46)
        at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:112)
        at org.junit.jupiter.engine.descriptor.TestTemplateTestDescriptor.execute(TestTemplateTestDescriptor.java:40)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:176)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:42)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$2(NodeTestTask.java:180)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$1(NodeTestTask.java:166)
        at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:138)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$0(NodeTestTask.java:164)
        at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:74)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:163)
        at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:116)
        at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:36)
        at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:52)
        at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:58)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.executeEngine(EngineExecutionOrchestrator.java:246)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.failOrExecuteEngine(EngineExecutionOrchestrator.java:218)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:179)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:108)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:66)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:157)
        at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:65)
        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:125)
        at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
        at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
        at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$2(InterceptingLauncher.java:57)
        at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
        at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:56)
        at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:58)
        at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
        at java.base/java.lang.reflect.Method.invoke(Method.java:580)
        at org.apache.maven.surefire.api.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:125)
        at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithCancellationToken(LauncherAdapter.java:68)
        at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:54)
        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
        at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
        at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
        at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
        at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
        at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: com.github.jknack.handlebars.HandlebarsException: httproute.yaml:12:29: found: '"prometheus.server.labels"', expected: 'id'
  labels: {{include nindent ("prometheus.server.labels" this) 4}}
                             ^
        at com.github.jknack.handlebars.internal.HbsErrorReporter.syntaxError(HbsErrorReporter.java:93)
        at com.github.jknack.handlebars.internal.antlr.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)
        at com.github.jknack.handlebars.internal.antlr.Parser.notifyErrorListeners(Parser.java:544)
        at com.github.jknack.handlebars.internal.HbsErrorStrategy.reportInputMismatch(HbsErrorStrategy.java:186)
        at com.github.jknack.handlebars.internal.antlr.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:139)
        at com.github.jknack.handlebars.internal.HbsParser.sexpr(HbsParser.java:827)
        at com.github.jknack.handlebars.internal.HbsParser.param(HbsParser.java:1960)
        at com.github.jknack.handlebars.internal.HbsParser.sexpr(HbsParser.java:801)
        at com.github.jknack.handlebars.internal.HbsParser.var(HbsParser.java:1286)
        at com.github.jknack.handlebars.internal.HbsParser.statement(HbsParser.java:333)
        at com.github.jknack.handlebars.internal.HbsParser.body(HbsParser.java:231)
        at com.github.jknack.handlebars.internal.HbsParser.block(HbsParser.java:578)
        at com.github.jknack.handlebars.internal.HbsParser.statement(HbsParser.java:326)
        at com.github.jknack.handlebars.internal.HbsParser.body(HbsParser.java:231)
        at com.github.jknack.handlebars.internal.HbsParser.block(HbsParser.java:578)
        at com.github.jknack.handlebars.internal.HbsParser.statement(HbsParser.java:326)
        at com.github.jknack.handlebars.internal.HbsParser.body(HbsParser.java:231)
        at com.github.jknack.handlebars.internal.HbsParser.template(HbsParser.java:174)
        at com.github.jknack.handlebars.internal.HbsParserFactory$1.parse(HbsParserFactory.java:88)
        at com.github.jknack.handlebars.cache.NullTemplateCache.get(NullTemplateCache.java:54)
        at com.github.jknack.handlebars.Handlebars.compile(Handlebars.java:575)
        at com.github.jknack.handlebars.Handlebars.compile(Handlebars.java:552)
        at org.alexmond.jhelm.core.Engine.renderWithSubcharts(Engine.java:391)
        ... 148 common frames omitted
01:32:02.355 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart grafana/grafana for now
01:32:02.356 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/nginx for now
01:32:02.357 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/mongodb for now
01:32:02.359 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/postgresql for now
01:32:02.360 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/redis for now
01:32:02.361 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/mysql for now
01:32:02.363 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/mariadb for now
01:32:02.364 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/apache for now
01:32:02.366 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/jenkins for now
01:32:02.367 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/kafka for now
01:32:02.368 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/rabbitmq for now
01:32:02.370 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/elasticsearch for now
01:32:02.371 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/drupal for now
01:32:02.372 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/wordpress for now
01:32:02.373 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/joomla for now
01:32:02.374 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/ghost for now
01:32:02.375 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/moodle for now
01:32:02.376 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/magento for now
01:32:02.377 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart bitnami/redmine for now
01:32:02.378 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart prometheus-community/kube-prometheus-stack for now
01:32:02.379 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart argo/argo-cd for now
01:32:02.380 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart jetstack/cert-manager for now
01:32:02.381 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Skipping complex chart karpenter/karpenter for now
[DEBUG_LOG] Running helm search repo for bitnami/nginx
01:32:05.385 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Helm search output for bitnami/nginx:
NAME                                    CHART VERSION   APP VERSION     DESCRIPTION
bitnami/nginx                           22.4.7          1.29.5          NGINX Open Source is a web server that can be a...
bitnami/nginx-ingress-controller        12.0.7          1.13.1          NGINX Ingress Controller is an Ingress controll...
bitnami/nginx-intel                     2.1.15          0.4.9           DEPRECATED NGINX Open Source for Intel is a lig...
01:32:05.386 [main] INFO org.alexmond.jhelm.core.Engine -- Collected 0 named templates
01:32:05.396 [main] INFO org.alexmond.jhelm.core.KpsComparisonTest -- Simple manifest: [hello world enabled
---]
[ERROR] Tests run: 27, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 4.284 s <<< FAILURE! -- in org.alexmond.jhelm.core.KpsComparisonTest
[ERROR] org.alexmond.jhelm.core.KpsComparisonTest.compareAllTopCharts(String)[1] -- Time elapsed: 1.208 s <<< FAILURE!
org.opentest4j.AssertionFailedError: prometheus-community/prometheus - Rendering failed: Failed to render template httproute.yaml
        at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:42)
        at org.junit.jupiter.api.Assertions.fail(Assertions.java:143)
        at org.alexmond.jhelm.core.KpsComparisonTest.compareChart(KpsComparisonTest.java:195)
        at org.alexmond.jhelm.core.KpsComparisonTest.compareAllTopCharts(KpsComparisonTest.java:117)
[INFO]
[INFO] Results:
[INFO]
[ERROR] Failures:
[ERROR]   KpsComparisonTest.compareAllTopCharts:117->compareChart:195 prometheus-community/prometheus - Rendering failed: Failed to render template httproute.yaml
[INFO]
[ERROR] Tests run: 29, Failures: 1, Errors: 0, Skipped: 0
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] Reactor Summary for jhelm 0.0.1-SNAPSHOT:
[INFO]
[INFO] jhelm .............................................. SUCCESS [  0.056 s]
[INFO] jhelm-core ......................................... FAILURE [  8.493 s]
[INFO] jhelm-kube ......................................... SKIPPED
[INFO] jhelm-app .......................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  8.771 s
[INFO] Finished at: 2026-02-10T01:32:05-05:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.5.4:test (default-test) on project jhelm-core: There are test failures.
[ERROR]
[ERROR] See /Users/alex.mondshain/IdeaProjects/jhelm/jhelm-core/target/surefire-reports for the individual test results.
[ERROR] See dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[ERROR]
[ERROR] After correcting the problems, you can resume the build with the command
[ERROR]   mvn <args> -rf :jhelm-core
